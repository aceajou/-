# 의료 영상 내 진단 표식(Marker) 제거 및 배경 복원 도구
(A Tool for Removing Diagnostic Markers and Restoring Background in Medical Images)

## 1. 프로그램 개요

본 프로그램은 웹 브라우저에서 동작하는 **의료 영상 클리닝 및 복원 도구**입니다. 초음파, X-ray 등 의료 영상에 포함된 화살표, 십자선, 텍스트와 같은 **진단 표식(Diagnostic Marker)**이나 **인공물(Artifact)**을 컴퓨터 비전 기술로 탐지하고, 이를 자연스럽게 제거 및 복원하여 깨끗한 원본 상태의 영상을 얻는 것을 목표로 합니다.

모든 데이터 처리는 100% 사용자의 PC 브라우저 내에서만 이루어지므로(클라이언트 사이드 연산), 민감한 의료 정보가 외부로 유출될 걱정 없이 안전하게 사용할 수 있습니다.

## 2. 주요 기능

- **강력한 보안:** 모든 연산이 사용자 PC에서만 처리되어 데이터가 외부로 전송되지 않습니다.
- **자동 표식 탐지:** 영상처리 알고리즘을 통해 이미지 내의 표식(화살표, 텍스트 등)을 자동으로 탐지합니다.
- **사용자 선택 기반 제거:** 탐지된 여러 표식 중, 제거를 원하는 영역만 사용자가 직접 클릭하여 정밀하게 선택할 수 있습니다.
- **고품질 배경 복원:** 선택된 영역을 주변 픽셀 정보를 이용해 자연스럽게 복원(Inpainting)합니다.
- **정량적 품질 평가:** 복원된 이미지의 품질을 PSNR 및 MSE 지표로 제공하여 결과를 객관적으로 평가할 수 있습니다.
- **다양한 포맷 지원:** **JPEG, PNG, BMP, GIF** 및 특수 의료 영상 형식인 **TIFF** 이미지를 지원합니다.
- **다중 파일 처리:** 폴더 전체를 업로드하여 여러 이미지를 효율적으로 작업하고, 결과를 **ZIP 파일로 일괄 다운로드**할 수 있습니다.

## 3. 기술 스택

- **Frontend:** HTML5, CSS3, JavaScript (ES6+)
- **Core Logic:** OpenCV.js (v4.5.0) with WebAssembly (WASM)
- **Libraries:**
    - **Tiff.js (v1.0.0):** TIF/TIFF 이미지 형식 디코딩
    - **JSZip.js (v3.6.0):** 다중 파일 ZIP 압축
    - **FileSaver.js (v2.0.5):** 파일 저장

## 4. 폴더 구조

Annotation_Remover/ (프로젝트 루트)
├── index.html
├── style.css
├── script.js
├── images/
│   ├── ajou_logo.png
│   └── ens_logo.png
└── libs/
├── opencv.js
├── opencv.wasm
├── jszip.min.js
├── filesaver.min.js
└── tiff.min.js


## 5. 설치 및 실행 방법

**본 프로그램은 웹 브라우저의 보안 정책으로 인해 `index.html` 파일을 직접 더블클릭하여 실행할 수 없습니다. 반드시 아래의 안내에 따라 로컬 웹 서버 환경에서 실행해야 합니다.**

#### 사전 준비 사항
- 최신 버전의 웹 브라우저 (Chrome 권장)
- Visual Studio Code (VS Code) 에디터
- VS Code 확장 프로그램: **Live Server**

#### 실행 절차
1. 본 프로젝트 폴더를 다운로드하거나 압축을 해제합니다.
2. **Visual Studio Code**를 실행하고, `파일 > 폴더 열기` 메뉴를 통해 프로젝트 폴더 전체를 엽니다.
3. VS Code 왼쪽의 확장 프로그램 탭에서 `Live Server`를 검색하여 설치합니다. (이미 설치된 경우 생략)
4. VS Code의 파일 탐색기에서 `index.html` 파일을 마우스 오른쪽 버튼으로 클릭합니다.
5. 메뉴에서 **`Open with Live Server`**를 선택합니다.
6. 자동으로 웹 브라우저가 열리며 `http://127.0.0.1:5500` 과 같은 주소로 프로그램이 실행됩니다.

## 6. 프로그램 사용법

1.  **이미지 업로드:** `파일 선택` 또는 `폴더 선택` 버튼을 눌러 처리할 의료 영상을 불러옵니다.
2.  **표식 탐지:** `민감도` 슬라이더를 조절한 후, `표식 탐지` 버튼을 클릭하여 이미지 내의 표식을 탐지합니다.
3.  **영역 선택:** 오른쪽 이미지에 표시된 파란색 박스 중, 제거하고 싶은 표식 영역을 마우스로 클릭합니다. 선택된 박스는 빨간색으로 변경됩니다.
4.  **영역 제거:** `선택 영역 제거` 버튼을 클릭하여 선택한 표식을 복원합니다. 작업 후 좌측에 복원 품질 지표가 표시됩니다.
5.  **결과 저장:** `현재 이미지 저장` 또는 `처리된 전체 이미지 저장 (ZIP)` 버튼을 눌러 결과물을 다운로드합니다.

## 7. 라이선스

본 프로젝트는 MIT 라이선스를 따릅니다.
